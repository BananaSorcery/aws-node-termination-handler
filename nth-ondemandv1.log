2025/10/09 03:52:43 INF Using log format version 1
2025/10/09 03:52:43 DBG Trying to get token from IMDSv2
2025/10/09 03:52:43 DBG Got token from IMDSv2
2025/10/09 03:52:43 INF Startup Metadata Retrieved metadata={"accountId":"043701111869","availabilityZone":"us-west-2c","instanceId":"i-0eac84c80780d6dd4","instanceLifeCycle":"on-demand","instanceType":"t3a.2xlarge","localHostname":"ip-10-195-92-67.us-west-2.compute.internal","privateIp":"10.195.92.67","publicHostname":"ec2-52-39-158-73.us-west-2.compute.amazonaws.com","publicIp":"52.39.158.73","region":"us-west-2"}
2025/10/09 03:52:43 INF aws-node-termination-handler arguments: 
	dry-run: false,
	node-name: ip-10-195-92-67.us-west-2.compute.internal,
	pod-name: aws-node-termination-handler-zr6mg,
	pod-namespace: mdaas-engines-dev,
	metadata-url: http://169.254.169.254,
	kubernetes-service-host: 172.20.0.1,
	kubernetes-service-port: 443,
	delete-local-data: true,
	ignore-daemon-sets: true,
	pod-termination-grace-period: -1,
	node-termination-grace-period: 120,
	enable-scheduled-event-draining: false,
	enable-spot-interruption-draining: true,
	enable-sqs-termination-draining: false,
	delete-sqs-msg-if-node-not-found: false,
	enable-rebalance-monitoring: true,
	enable-rebalance-draining: true,
	metadata-tries: 3,
	cordon-only: false,
	taint-node: false,
	taint-effect: NoSchedule,
	enable-out-of-service-taint: false,
	exclude-from-load-balancers: false,
	json-logging: false,
	log-level: debug,
	webhook-proxy: ,
	webhook-headers: <not-displayed>,
	webhook-url: ,
	webhook-template: <not-displayed>,
	uptime-from-file: /proc/uptime,
	enable-prometheus-server: false,
	prometheus-server-port: 9092,
	emit-kubernetes-events: false,
	kubernetes-events-extra-annotations: ,
	aws-region: us-west-2,
	queue-url: ,
	check-tag-before-draining: true,
	managed-tag: aws-node-termination-handler/managed,
	use-provider-id: false,
	aws-endpoint: ,
	use-apiserver-cache: false,
	heartbeat-interval: -1,
	heartbeat-until: -1,
	enable-spot-guard: true,
	spot-asg-name: dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004,
	on-demand-asg-name: Sandbox-only,
	spot-guard-check-interval: 30,
	spot-guard-minimum-wait-duration: 120,
	spot-guard-spot-stability-duration: 120,
	spot-guard-max-cluster-utilization: 75,
	spot-guard-pod-eviction-timeout: 300

2025/10/09 03:52:43 INF Spot Guard enabled - Spot ASG: dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004, On-Demand ASG: Sandbox-only
2025/10/09 03:52:43 DBG Detecting node type nodeName=ip-10-195-92-67.us-west-2.compute.internal onDemandASG=Sandbox-only
2025/10/09 03:52:43 DBG Checking ASG membership instanceID=i-0eac84c80780d6dd4 onDemandASG=Sandbox-only
2025/10/09 03:52:43 INF Detected node type via ASG membership currentASG=Sandbox-only instanceID=i-0eac84c80780d6dd4 isOnDemand=true onDemandASG=Sandbox-only
2025/10/09 03:52:43 INF Detected on-demand node, starting Spot Guard self-monitor instanceID=i-0eac84c80780d6dd4 instanceType=t3a.2xlarge nodeName=ip-10-195-92-67.us-west-2.compute.internal onDemandASG=Sandbox-only
2025/10/09 03:52:43 INF Loaded start time from node annotation (pod restart detected) nodeName=ip-10-195-92-67.us-west-2.compute.internal startTime=2025-10-09T02:42:56Z
2025/10/09 03:52:43 INF Started watching for interruption events
2025/10/09 03:52:43 INF Kubernetes AWS Node Termination Handler has started successfully!
2025/10/09 03:52:43 INF Started watching for event cancellations
2025/10/09 03:52:43 INF Started monitoring for events event_type=SPOT_ITN_MONITOR
2025/10/09 03:52:43 INF Spot Guard self-monitor started for on-demand node
2025/10/09 03:52:43 INF ON-DEMAND NODE DETECTED - Starting Spot Guard Self-Monitor
2025/10/09 03:52:43 INF On-demand node will run for at least this duration before scale-down minimumWaitSeconds=120 monitorStartTime=2025-10-09T02:42:56Z
2025/10/09 03:52:43 INF Health check configuration actualCheckInterval=36000 checkInterval=30000 jitter=6000
2025/10/09 03:52:43 INF Self-monitor active - will automatically scale down this on-demand node when spot capacity is healthy
2025/10/09 03:52:43 INF Started monitoring for events event_type=REBALANCE_RECOMMENDATION_MONITOR
2025/10/09 03:53:19 DBG Performing comprehensive spot ASG health check asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 requiredStability=120000
2025/10/09 03:53:19 DBG Comprehensive check: ASG health asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 desired=6 healthy=true inService=6 instances=["i-05a0cbe82a3988ed2:InService:Healthy","i-0628a52ab1114b29a:InService:Healthy","i-0884d1890adf692e7:InService:Healthy","i-0b02c064fef3abd98:InService:Healthy","i-0e4a5d7521054eebc:InService:Healthy","i-0e9218c3cd3396b1b:InService:Healthy"] totalInstances=6
2025/10/09 03:53:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-05a0cbe82a3988ed2 node=ip-10-195-92-189.us-west-2.compute.internal
2025/10/09 03:53:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0884d1890adf692e7 node=ip-10-195-92-45.us-west-2.compute.internal
2025/10/09 03:53:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e9218c3cd3396b1b node=ip-10-195-94-113.us-west-2.compute.internal
2025/10/09 03:53:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e4a5d7521054eebc node=ip-10-195-94-150.us-west-2.compute.internal
2025/10/09 03:53:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0b02c064fef3abd98 node=ip-10-195-95-176.us-west-2.compute.internal
2025/10/09 03:53:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0628a52ab1114b29a node=ip-10-195-95-78.us-west-2.compute.internal
2025/10/09 03:53:19 DBG Comprehensive check: K8s node readiness allReady=true asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 nodeStatuses=["ip-10-195-92-189.us-west-2.compute.internal:Ready","ip-10-195-92-45.us-west-2.compute.internal:Ready","ip-10-195-94-113.us-west-2.compute.internal:Ready","ip-10-195-94-150.us-west-2.compute.internal:Ready","ip-10-195-95-176.us-west-2.compute.internal:Ready","ip-10-195-95-78.us-west-2.compute.internal:Ready"] spotNodes=6
2025/10/09 03:53:19 DBG Comprehensive check: Spot capacity became healthy, starting stability tracking asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 healthySince=2025-10-09T03:53:19Z
2025/10/09 03:53:19 DBG Spot capacity not yet stable requiredStability=120000 spotASG=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004
2025/10/09 03:53:43 INF event store statistics drainable-events=0 size=0
2025/10/09 03:53:55 DBG Performing comprehensive spot ASG health check asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 requiredStability=120000
2025/10/09 03:53:55 DBG Comprehensive check: ASG health asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 desired=6 healthy=true inService=6 instances=["i-05a0cbe82a3988ed2:InService:Healthy","i-0628a52ab1114b29a:InService:Healthy","i-0884d1890adf692e7:InService:Healthy","i-0b02c064fef3abd98:InService:Healthy","i-0e4a5d7521054eebc:InService:Healthy","i-0e9218c3cd3396b1b:InService:Healthy"] totalInstances=6
2025/10/09 03:53:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-05a0cbe82a3988ed2 node=ip-10-195-92-189.us-west-2.compute.internal
2025/10/09 03:53:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0884d1890adf692e7 node=ip-10-195-92-45.us-west-2.compute.internal
2025/10/09 03:53:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e9218c3cd3396b1b node=ip-10-195-94-113.us-west-2.compute.internal
2025/10/09 03:53:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e4a5d7521054eebc node=ip-10-195-94-150.us-west-2.compute.internal
2025/10/09 03:53:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0b02c064fef3abd98 node=ip-10-195-95-176.us-west-2.compute.internal
2025/10/09 03:53:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0628a52ab1114b29a node=ip-10-195-95-78.us-west-2.compute.internal
2025/10/09 03:53:55 DBG Comprehensive check: K8s node readiness allReady=true asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 nodeStatuses=["ip-10-195-92-189.us-west-2.compute.internal:Ready","ip-10-195-92-45.us-west-2.compute.internal:Ready","ip-10-195-94-113.us-west-2.compute.internal:Ready","ip-10-195-94-150.us-west-2.compute.internal:Ready","ip-10-195-95-176.us-west-2.compute.internal:Ready","ip-10-195-95-78.us-west-2.compute.internal:Ready"] spotNodes=6
2025/10/09 03:53:55 DBG Comprehensive check: Spot capacity is healthy but not yet stable asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 elapsed=35930.469853 remaining=84069.530147 required=120000
2025/10/09 03:53:55 DBG Spot capacity not yet stable requiredStability=120000 spotASG=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004
2025/10/09 03:54:31 DBG Performing comprehensive spot ASG health check asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 requiredStability=120000
2025/10/09 03:54:31 DBG Comprehensive check: ASG health asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 desired=6 healthy=true inService=6 instances=["i-05a0cbe82a3988ed2:InService:Healthy","i-0628a52ab1114b29a:InService:Healthy","i-0884d1890adf692e7:InService:Healthy","i-0b02c064fef3abd98:InService:Healthy","i-0e4a5d7521054eebc:InService:Healthy","i-0e9218c3cd3396b1b:InService:Healthy"] totalInstances=6
2025/10/09 03:54:31 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-05a0cbe82a3988ed2 node=ip-10-195-92-189.us-west-2.compute.internal
2025/10/09 03:54:31 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0884d1890adf692e7 node=ip-10-195-92-45.us-west-2.compute.internal
2025/10/09 03:54:31 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e9218c3cd3396b1b node=ip-10-195-94-113.us-west-2.compute.internal
2025/10/09 03:54:31 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e4a5d7521054eebc node=ip-10-195-94-150.us-west-2.compute.internal
2025/10/09 03:54:31 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0b02c064fef3abd98 node=ip-10-195-95-176.us-west-2.compute.internal
2025/10/09 03:54:31 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0628a52ab1114b29a node=ip-10-195-95-78.us-west-2.compute.internal
2025/10/09 03:54:31 DBG Comprehensive check: K8s node readiness allReady=true asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 nodeStatuses=["ip-10-195-92-189.us-west-2.compute.internal:Ready","ip-10-195-92-45.us-west-2.compute.internal:Ready","ip-10-195-94-113.us-west-2.compute.internal:Ready","ip-10-195-94-150.us-west-2.compute.internal:Ready","ip-10-195-95-176.us-west-2.compute.internal:Ready","ip-10-195-95-78.us-west-2.compute.internal:Ready"] spotNodes=6
2025/10/09 03:54:31 DBG Comprehensive check: Spot capacity is healthy but not yet stable asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 elapsed=71908.262033 remaining=48091.737967 required=120000
2025/10/09 03:54:31 DBG Spot capacity not yet stable requiredStability=120000 spotASG=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004
2025/10/09 03:54:43 INF event store statistics drainable-events=0 size=0
2025/10/09 03:55:07 DBG Performing comprehensive spot ASG health check asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 requiredStability=120000
2025/10/09 03:55:07 DBG Comprehensive check: ASG health asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 desired=6 healthy=true inService=6 instances=["i-05a0cbe82a3988ed2:InService:Healthy","i-0628a52ab1114b29a:InService:Healthy","i-0884d1890adf692e7:InService:Healthy","i-0b02c064fef3abd98:InService:Healthy","i-0e4a5d7521054eebc:InService:Healthy","i-0e9218c3cd3396b1b:InService:Healthy"] totalInstances=6
2025/10/09 03:55:07 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-05a0cbe82a3988ed2 node=ip-10-195-92-189.us-west-2.compute.internal
2025/10/09 03:55:07 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0884d1890adf692e7 node=ip-10-195-92-45.us-west-2.compute.internal
2025/10/09 03:55:07 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e9218c3cd3396b1b node=ip-10-195-94-113.us-west-2.compute.internal
2025/10/09 03:55:07 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e4a5d7521054eebc node=ip-10-195-94-150.us-west-2.compute.internal
2025/10/09 03:55:07 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0b02c064fef3abd98 node=ip-10-195-95-176.us-west-2.compute.internal
2025/10/09 03:55:07 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0628a52ab1114b29a node=ip-10-195-95-78.us-west-2.compute.internal
2025/10/09 03:55:07 DBG Comprehensive check: K8s node readiness allReady=true asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 nodeStatuses=["ip-10-195-92-189.us-west-2.compute.internal:Ready","ip-10-195-92-45.us-west-2.compute.internal:Ready","ip-10-195-94-113.us-west-2.compute.internal:Ready","ip-10-195-94-150.us-west-2.compute.internal:Ready","ip-10-195-95-176.us-west-2.compute.internal:Ready","ip-10-195-95-78.us-west-2.compute.internal:Ready"] spotNodes=6
2025/10/09 03:55:07 DBG Comprehensive check: Spot capacity is healthy but not yet stable asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 elapsed=107967.159659 remaining=12032.840341 required=120000
2025/10/09 03:55:07 DBG Spot capacity not yet stable requiredStability=120000 spotASG=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004
2025/10/09 03:55:43 INF event store statistics drainable-events=0 size=0
2025/10/09 03:55:43 DBG Performing comprehensive spot ASG health check asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 requiredStability=120000
2025/10/09 03:55:43 DBG Comprehensive check: ASG health asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 desired=6 healthy=true inService=6 instances=["i-05a0cbe82a3988ed2:InService:Healthy","i-0628a52ab1114b29a:InService:Healthy","i-0884d1890adf692e7:InService:Healthy","i-0b02c064fef3abd98:InService:Healthy","i-0e4a5d7521054eebc:InService:Healthy","i-0e9218c3cd3396b1b:InService:Healthy"] totalInstances=6
2025/10/09 03:55:43 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-05a0cbe82a3988ed2 node=ip-10-195-92-189.us-west-2.compute.internal
2025/10/09 03:55:43 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0884d1890adf692e7 node=ip-10-195-92-45.us-west-2.compute.internal
2025/10/09 03:55:43 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e9218c3cd3396b1b node=ip-10-195-94-113.us-west-2.compute.internal
2025/10/09 03:55:43 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e4a5d7521054eebc node=ip-10-195-94-150.us-west-2.compute.internal
2025/10/09 03:55:43 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0b02c064fef3abd98 node=ip-10-195-95-176.us-west-2.compute.internal
2025/10/09 03:55:43 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0628a52ab1114b29a node=ip-10-195-95-78.us-west-2.compute.internal
2025/10/09 03:55:43 DBG Comprehensive check: K8s node readiness allReady=true asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 nodeStatuses=["ip-10-195-92-189.us-west-2.compute.internal:Ready","ip-10-195-92-45.us-west-2.compute.internal:Ready","ip-10-195-94-113.us-west-2.compute.internal:Ready","ip-10-195-94-150.us-west-2.compute.internal:Ready","ip-10-195-95-176.us-west-2.compute.internal:Ready","ip-10-195-95-78.us-west-2.compute.internal:Ready"] spotNodes=6
2025/10/09 03:55:43 INF ✅ Comprehensive check: Spot capacity is stable for required duration asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 elapsed=143923.510316 required=120000
2025/10/09 03:55:43 DBG Starting pod safety check for node drain node=ip-10-195-92-67.us-west-2.compute.internal
2025/10/09 03:55:43 DBG Retrieved node details instanceType=t3a.2xlarge node=ip-10-195-92-67.us-west-2.compute.internal zone=us-west-2c
2025/10/09 03:55:43 DBG Checking pod safety for node drain node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 03:55:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 03:55:43 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"cert-manager\""
2025/10/09 03:55:43 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 03:55:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/coralogix-opentelemetry-agent-mwx9d
2025/10/09 03:55:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 03:55:43 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 03:55:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 03:55:43 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"coralogix\""
2025/10/09 03:55:43 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 03:55:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/aws-node-ntmdp
2025/10/09 03:55:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/csi-smb-node-98v54
2025/10/09 03:55:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 03:55:43 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"engine-efficacy-stats\""
2025/10/09 03:55:43 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"kube-system\""
2025/10/09 03:55:43 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 03:55:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-node-t97pp
2025/10/09 03:55:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/kube-proxy-2kn55
2025/10/09 03:55:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/node-local-dns-xw9hz
2025/10/09 03:55:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kubecost/kubecost-dev-prometheus-node-exporter-lv4dh
2025/10/09 03:55:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/aws-node-termination-handler-zr6mg
2025/10/09 03:55:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 03:55:43 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 03:55:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 03:55:43 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:55:43 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:55:43 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 03:55:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 03:55:43 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 03:55:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 03:55:43 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:55:43 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 03:55:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 03:55:43 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:55:44 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:55:44 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 03:55:44 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 03:55:44 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:55:44 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 03:55:44 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 03:55:44 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 03:55:44 INF Pod safety check passed - all pods can be safely rescheduled alreadyTerminating=0 checked=11 daemonSets=8 node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 03:55:44 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:55:45 DBG Cluster capacity buffer check cpuUtilization=92.62860483242402 maxAllowed=75 memoryUtilization=70.27238861585346
2025/10/09 03:55:45 DBG Cannot safely drain node yet nodeName=ip-10-195-92-67.us-west-2.compute.internal reason="cluster would be 92.6% utilized (max allowed: 75.0%)"
2025/10/09 03:56:19 DBG Performing comprehensive spot ASG health check asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 requiredStability=120000
2025/10/09 03:56:19 DBG Comprehensive check: ASG health asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 desired=6 healthy=true inService=6 instances=["i-05a0cbe82a3988ed2:InService:Healthy","i-0628a52ab1114b29a:InService:Healthy","i-0884d1890adf692e7:InService:Healthy","i-0b02c064fef3abd98:InService:Healthy","i-0e4a5d7521054eebc:InService:Healthy","i-0e9218c3cd3396b1b:InService:Healthy"] totalInstances=6
2025/10/09 03:56:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-05a0cbe82a3988ed2 node=ip-10-195-92-189.us-west-2.compute.internal
2025/10/09 03:56:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0884d1890adf692e7 node=ip-10-195-92-45.us-west-2.compute.internal
2025/10/09 03:56:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e9218c3cd3396b1b node=ip-10-195-94-113.us-west-2.compute.internal
2025/10/09 03:56:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e4a5d7521054eebc node=ip-10-195-94-150.us-west-2.compute.internal
2025/10/09 03:56:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0b02c064fef3abd98 node=ip-10-195-95-176.us-west-2.compute.internal
2025/10/09 03:56:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0628a52ab1114b29a node=ip-10-195-95-78.us-west-2.compute.internal
2025/10/09 03:56:19 DBG Comprehensive check: K8s node readiness allReady=true asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 nodeStatuses=["ip-10-195-92-189.us-west-2.compute.internal:Ready","ip-10-195-92-45.us-west-2.compute.internal:Ready","ip-10-195-94-113.us-west-2.compute.internal:Ready","ip-10-195-94-150.us-west-2.compute.internal:Ready","ip-10-195-95-176.us-west-2.compute.internal:Ready","ip-10-195-95-78.us-west-2.compute.internal:Ready"] spotNodes=6
2025/10/09 03:56:19 INF ✅ Comprehensive check: Spot capacity is stable for required duration asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 elapsed=179894.13167 required=120000
2025/10/09 03:56:19 DBG Starting pod safety check for node drain node=ip-10-195-92-67.us-west-2.compute.internal
2025/10/09 03:56:19 DBG Retrieved node details instanceType=t3a.2xlarge node=ip-10-195-92-67.us-west-2.compute.internal zone=us-west-2c
2025/10/09 03:56:19 DBG Checking pod safety for node drain node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 03:56:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 03:56:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 03:56:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/coralogix-opentelemetry-agent-mwx9d
2025/10/09 03:56:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 03:56:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"cert-manager\""
2025/10/09 03:56:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 03:56:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 03:56:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"coralogix\""
2025/10/09 03:56:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"engine-efficacy-stats\""
2025/10/09 03:56:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 03:56:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/aws-node-ntmdp
2025/10/09 03:56:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/csi-smb-node-98v54
2025/10/09 03:56:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 03:56:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 03:56:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-node-t97pp
2025/10/09 03:56:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/kube-proxy-2kn55
2025/10/09 03:56:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/node-local-dns-xw9hz
2025/10/09 03:56:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"kube-system\""
2025/10/09 03:56:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kubecost/kubecost-dev-prometheus-node-exporter-lv4dh
2025/10/09 03:56:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/aws-node-termination-handler-zr6mg
2025/10/09 03:56:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 03:56:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:56:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 03:56:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 03:56:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 03:56:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 03:56:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:56:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 03:56:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 03:56:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:56:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:56:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 03:56:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 03:56:20 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:56:20 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 03:56:20 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 03:56:20 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 03:56:20 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 03:56:20 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:56:20 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:56:20 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 03:56:20 INF Pod safety check passed - all pods can be safely rescheduled alreadyTerminating=0 checked=11 daemonSets=8 node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 03:56:21 DBG Cluster capacity buffer check cpuUtilization=92.62860483242402 maxAllowed=75 memoryUtilization=70.27238861585346
2025/10/09 03:56:21 DBG Cannot safely drain node yet nodeName=ip-10-195-92-67.us-west-2.compute.internal reason="cluster would be 92.6% utilized (max allowed: 75.0%)"
2025/10/09 03:56:43 INF event store statistics drainable-events=0 size=0
2025/10/09 03:56:55 DBG Performing comprehensive spot ASG health check asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 requiredStability=120000
2025/10/09 03:56:55 DBG Comprehensive check: ASG health asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 desired=6 healthy=true inService=6 instances=["i-05a0cbe82a3988ed2:InService:Healthy","i-0628a52ab1114b29a:InService:Healthy","i-0884d1890adf692e7:InService:Healthy","i-0b02c064fef3abd98:InService:Healthy","i-0e4a5d7521054eebc:InService:Healthy","i-0e9218c3cd3396b1b:InService:Healthy"] totalInstances=6
2025/10/09 03:56:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-05a0cbe82a3988ed2 node=ip-10-195-92-189.us-west-2.compute.internal
2025/10/09 03:56:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0884d1890adf692e7 node=ip-10-195-92-45.us-west-2.compute.internal
2025/10/09 03:56:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e9218c3cd3396b1b node=ip-10-195-94-113.us-west-2.compute.internal
2025/10/09 03:56:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e4a5d7521054eebc node=ip-10-195-94-150.us-west-2.compute.internal
2025/10/09 03:56:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0b02c064fef3abd98 node=ip-10-195-95-176.us-west-2.compute.internal
2025/10/09 03:56:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0628a52ab1114b29a node=ip-10-195-95-78.us-west-2.compute.internal
2025/10/09 03:56:55 DBG Comprehensive check: K8s node readiness allReady=true asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 nodeStatuses=["ip-10-195-92-189.us-west-2.compute.internal:Ready","ip-10-195-92-45.us-west-2.compute.internal:Ready","ip-10-195-94-113.us-west-2.compute.internal:Ready","ip-10-195-94-150.us-west-2.compute.internal:Ready","ip-10-195-95-176.us-west-2.compute.internal:Ready","ip-10-195-95-78.us-west-2.compute.internal:Ready"] spotNodes=6
2025/10/09 03:56:55 INF ✅ Comprehensive check: Spot capacity is stable for required duration asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 elapsed=215935.499513 required=120000
2025/10/09 03:56:55 DBG Starting pod safety check for node drain node=ip-10-195-92-67.us-west-2.compute.internal
2025/10/09 03:56:55 DBG Retrieved node details instanceType=t3a.2xlarge node=ip-10-195-92-67.us-west-2.compute.internal zone=us-west-2c
2025/10/09 03:56:55 DBG Checking pod safety for node drain node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 03:56:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 03:56:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"cert-manager\""
2025/10/09 03:56:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 03:56:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/coralogix-opentelemetry-agent-mwx9d
2025/10/09 03:56:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 03:56:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"coralogix\""
2025/10/09 03:56:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 03:56:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 03:56:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"engine-efficacy-stats\""
2025/10/09 03:56:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 03:56:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/aws-node-ntmdp
2025/10/09 03:56:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/csi-smb-node-98v54
2025/10/09 03:56:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 03:56:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"kube-system\""
2025/10/09 03:56:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 03:56:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-node-t97pp
2025/10/09 03:56:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/kube-proxy-2kn55
2025/10/09 03:56:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/node-local-dns-xw9hz
2025/10/09 03:56:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kubecost/kubecost-dev-prometheus-node-exporter-lv4dh
2025/10/09 03:56:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/aws-node-termination-handler-zr6mg
2025/10/09 03:56:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 03:56:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 03:56:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 03:56:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:56:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:56:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 03:56:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 03:56:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:56:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 03:56:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 03:56:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:56:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 03:56:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 03:56:56 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 03:56:56 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 03:56:56 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:56:56 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:56:56 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 03:56:56 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 03:56:56 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 03:56:56 INF Pod safety check passed - all pods can be safely rescheduled alreadyTerminating=0 checked=11 daemonSets=8 node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 03:56:56 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:56:57 DBG Cluster capacity buffer check cpuUtilization=92.62860483242402 maxAllowed=75 memoryUtilization=70.27238861585346
2025/10/09 03:56:57 DBG Cannot safely drain node yet nodeName=ip-10-195-92-67.us-west-2.compute.internal reason="cluster would be 92.6% utilized (max allowed: 75.0%)"
2025/10/09 03:57:31 DBG Performing comprehensive spot ASG health check asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 requiredStability=120000
2025/10/09 03:57:31 DBG Comprehensive check: ASG health asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 desired=6 healthy=true inService=6 instances=["i-05a0cbe82a3988ed2:InService:Healthy","i-0628a52ab1114b29a:InService:Healthy","i-0884d1890adf692e7:InService:Healthy","i-0b02c064fef3abd98:InService:Healthy","i-0e4a5d7521054eebc:InService:Healthy","i-0e9218c3cd3396b1b:InService:Healthy"] totalInstances=6
2025/10/09 03:57:31 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-05a0cbe82a3988ed2 node=ip-10-195-92-189.us-west-2.compute.internal
2025/10/09 03:57:31 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0884d1890adf692e7 node=ip-10-195-92-45.us-west-2.compute.internal
2025/10/09 03:57:31 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e9218c3cd3396b1b node=ip-10-195-94-113.us-west-2.compute.internal
2025/10/09 03:57:31 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e4a5d7521054eebc node=ip-10-195-94-150.us-west-2.compute.internal
2025/10/09 03:57:31 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0b02c064fef3abd98 node=ip-10-195-95-176.us-west-2.compute.internal
2025/10/09 03:57:31 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0628a52ab1114b29a node=ip-10-195-95-78.us-west-2.compute.internal
2025/10/09 03:57:31 DBG Comprehensive check: K8s node readiness allReady=true asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 nodeStatuses=["ip-10-195-92-189.us-west-2.compute.internal:Ready","ip-10-195-92-45.us-west-2.compute.internal:Ready","ip-10-195-94-113.us-west-2.compute.internal:Ready","ip-10-195-94-150.us-west-2.compute.internal:Ready","ip-10-195-95-176.us-west-2.compute.internal:Ready","ip-10-195-95-78.us-west-2.compute.internal:Ready"] spotNodes=6
2025/10/09 03:57:31 INF ✅ Comprehensive check: Spot capacity is stable for required duration asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 elapsed=251952.769224 required=120000
2025/10/09 03:57:31 DBG Starting pod safety check for node drain node=ip-10-195-92-67.us-west-2.compute.internal
2025/10/09 03:57:31 DBG Retrieved node details instanceType=t3a.2xlarge node=ip-10-195-92-67.us-west-2.compute.internal zone=us-west-2c
2025/10/09 03:57:31 DBG Checking pod safety for node drain node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 03:57:31 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 03:57:31 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"cert-manager\""
2025/10/09 03:57:31 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 03:57:31 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/coralogix-opentelemetry-agent-mwx9d
2025/10/09 03:57:31 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 03:57:31 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"coralogix\""
2025/10/09 03:57:31 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 03:57:31 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 03:57:31 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 03:57:31 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/aws-node-ntmdp
2025/10/09 03:57:31 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/csi-smb-node-98v54
2025/10/09 03:57:31 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 03:57:31 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"engine-efficacy-stats\""
2025/10/09 03:57:31 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 03:57:31 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-node-t97pp
2025/10/09 03:57:31 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/kube-proxy-2kn55
2025/10/09 03:57:31 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"kube-system\""
2025/10/09 03:57:31 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/node-local-dns-xw9hz
2025/10/09 03:57:31 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kubecost/kubecost-dev-prometheus-node-exporter-lv4dh
2025/10/09 03:57:31 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/aws-node-termination-handler-zr6mg
2025/10/09 03:57:31 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 03:57:31 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:57:31 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 03:57:31 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 03:57:31 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 03:57:31 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 03:57:31 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:57:31 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:57:31 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 03:57:31 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 03:57:31 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 03:57:31 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 03:57:31 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:57:32 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 03:57:32 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 03:57:32 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:57:32 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 03:57:32 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 03:57:32 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:57:32 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 03:57:32 INF Pod safety check passed - all pods can be safely rescheduled alreadyTerminating=0 checked=11 daemonSets=8 node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 03:57:32 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:57:33 DBG Cluster capacity buffer check cpuUtilization=92.62860483242402 maxAllowed=75 memoryUtilization=70.27238861585346
2025/10/09 03:57:33 DBG Cannot safely drain node yet nodeName=ip-10-195-92-67.us-west-2.compute.internal reason="cluster would be 92.6% utilized (max allowed: 75.0%)"
2025/10/09 03:57:43 INF event store statistics drainable-events=0 size=0
2025/10/09 03:58:07 DBG Performing comprehensive spot ASG health check asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 requiredStability=120000
2025/10/09 03:58:07 DBG Comprehensive check: ASG health asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 desired=6 healthy=true inService=6 instances=["i-05a0cbe82a3988ed2:InService:Healthy","i-0628a52ab1114b29a:InService:Healthy","i-0884d1890adf692e7:InService:Healthy","i-0b02c064fef3abd98:InService:Healthy","i-0e4a5d7521054eebc:InService:Healthy","i-0e9218c3cd3396b1b:InService:Healthy"] totalInstances=6
2025/10/09 03:58:07 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-05a0cbe82a3988ed2 node=ip-10-195-92-189.us-west-2.compute.internal
2025/10/09 03:58:07 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0884d1890adf692e7 node=ip-10-195-92-45.us-west-2.compute.internal
2025/10/09 03:58:07 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e9218c3cd3396b1b node=ip-10-195-94-113.us-west-2.compute.internal
2025/10/09 03:58:07 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e4a5d7521054eebc node=ip-10-195-94-150.us-west-2.compute.internal
2025/10/09 03:58:07 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0b02c064fef3abd98 node=ip-10-195-95-176.us-west-2.compute.internal
2025/10/09 03:58:07 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0628a52ab1114b29a node=ip-10-195-95-78.us-west-2.compute.internal
2025/10/09 03:58:07 DBG Comprehensive check: K8s node readiness allReady=true asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 nodeStatuses=["ip-10-195-92-189.us-west-2.compute.internal:Ready","ip-10-195-92-45.us-west-2.compute.internal:Ready","ip-10-195-94-113.us-west-2.compute.internal:Ready","ip-10-195-94-150.us-west-2.compute.internal:Ready","ip-10-195-95-176.us-west-2.compute.internal:Ready","ip-10-195-95-78.us-west-2.compute.internal:Ready"] spotNodes=6
2025/10/09 03:58:07 INF ✅ Comprehensive check: Spot capacity is stable for required duration asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 elapsed=287914.172416 required=120000
2025/10/09 03:58:07 DBG Starting pod safety check for node drain node=ip-10-195-92-67.us-west-2.compute.internal
2025/10/09 03:58:07 DBG Retrieved node details instanceType=t3a.2xlarge node=ip-10-195-92-67.us-west-2.compute.internal zone=us-west-2c
2025/10/09 03:58:07 DBG Checking pod safety for node drain node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 03:58:07 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 03:58:07 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"cert-manager\""
2025/10/09 03:58:07 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 03:58:07 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/coralogix-opentelemetry-agent-mwx9d
2025/10/09 03:58:07 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 03:58:07 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"coralogix\""
2025/10/09 03:58:07 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 03:58:07 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 03:58:07 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"engine-efficacy-stats\""
2025/10/09 03:58:07 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 03:58:07 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/aws-node-ntmdp
2025/10/09 03:58:07 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/csi-smb-node-98v54
2025/10/09 03:58:07 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 03:58:07 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"kube-system\""
2025/10/09 03:58:07 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 03:58:07 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-node-t97pp
2025/10/09 03:58:07 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/kube-proxy-2kn55
2025/10/09 03:58:07 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/node-local-dns-xw9hz
2025/10/09 03:58:07 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kubecost/kubecost-dev-prometheus-node-exporter-lv4dh
2025/10/09 03:58:07 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/aws-node-termination-handler-zr6mg
2025/10/09 03:58:07 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 03:58:07 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 03:58:07 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 03:58:07 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:58:07 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:58:07 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 03:58:07 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 03:58:07 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:58:07 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 03:58:07 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 03:58:07 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 03:58:07 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 03:58:07 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:58:08 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 03:58:08 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 03:58:08 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:58:08 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:58:08 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 03:58:08 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 03:58:08 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 03:58:08 INF Pod safety check passed - all pods can be safely rescheduled alreadyTerminating=0 checked=11 daemonSets=8 node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 03:58:08 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:58:09 DBG Cluster capacity buffer check cpuUtilization=92.62860483242402 maxAllowed=75 memoryUtilization=70.27238861585346
2025/10/09 03:58:09 DBG Cannot safely drain node yet nodeName=ip-10-195-92-67.us-west-2.compute.internal reason="cluster would be 92.6% utilized (max allowed: 75.0%)"
2025/10/09 03:58:43 INF event store statistics drainable-events=0 size=0
2025/10/09 03:58:43 DBG Performing comprehensive spot ASG health check asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 requiredStability=120000
2025/10/09 03:58:43 DBG Comprehensive check: ASG health asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 desired=6 healthy=true inService=6 instances=["i-05a0cbe82a3988ed2:InService:Healthy","i-0628a52ab1114b29a:InService:Healthy","i-0884d1890adf692e7:InService:Healthy","i-0b02c064fef3abd98:InService:Healthy","i-0e4a5d7521054eebc:InService:Healthy","i-0e9218c3cd3396b1b:InService:Healthy"] totalInstances=6
2025/10/09 03:58:43 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-05a0cbe82a3988ed2 node=ip-10-195-92-189.us-west-2.compute.internal
2025/10/09 03:58:43 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0884d1890adf692e7 node=ip-10-195-92-45.us-west-2.compute.internal
2025/10/09 03:58:43 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e9218c3cd3396b1b node=ip-10-195-94-113.us-west-2.compute.internal
2025/10/09 03:58:43 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e4a5d7521054eebc node=ip-10-195-94-150.us-west-2.compute.internal
2025/10/09 03:58:43 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0b02c064fef3abd98 node=ip-10-195-95-176.us-west-2.compute.internal
2025/10/09 03:58:43 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0628a52ab1114b29a node=ip-10-195-95-78.us-west-2.compute.internal
2025/10/09 03:58:43 DBG Comprehensive check: K8s node readiness allReady=true asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 nodeStatuses=["ip-10-195-92-189.us-west-2.compute.internal:Ready","ip-10-195-92-45.us-west-2.compute.internal:Ready","ip-10-195-94-113.us-west-2.compute.internal:Ready","ip-10-195-94-150.us-west-2.compute.internal:Ready","ip-10-195-95-176.us-west-2.compute.internal:Ready","ip-10-195-95-78.us-west-2.compute.internal:Ready"] spotNodes=6
2025/10/09 03:58:43 INF ✅ Comprehensive check: Spot capacity is stable for required duration asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 elapsed=323946.160747 required=120000
2025/10/09 03:58:43 DBG Starting pod safety check for node drain node=ip-10-195-92-67.us-west-2.compute.internal
2025/10/09 03:58:43 DBG Retrieved node details instanceType=t3a.2xlarge node=ip-10-195-92-67.us-west-2.compute.internal zone=us-west-2c
2025/10/09 03:58:43 DBG Checking pod safety for node drain node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 03:58:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 03:58:43 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"cert-manager\""
2025/10/09 03:58:43 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 03:58:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/coralogix-opentelemetry-agent-mwx9d
2025/10/09 03:58:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 03:58:43 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"coralogix\""
2025/10/09 03:58:43 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 03:58:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 03:58:43 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"engine-efficacy-stats\""
2025/10/09 03:58:43 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 03:58:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/aws-node-ntmdp
2025/10/09 03:58:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/csi-smb-node-98v54
2025/10/09 03:58:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 03:58:43 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"kube-system\""
2025/10/09 03:58:43 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 03:58:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-node-t97pp
2025/10/09 03:58:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/kube-proxy-2kn55
2025/10/09 03:58:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/node-local-dns-xw9hz
2025/10/09 03:58:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kubecost/kubecost-dev-prometheus-node-exporter-lv4dh
2025/10/09 03:58:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/aws-node-termination-handler-zr6mg
2025/10/09 03:58:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 03:58:43 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 03:58:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 03:58:43 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:58:43 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 03:58:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 03:58:43 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:58:43 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:58:43 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 03:58:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 03:58:44 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 03:58:44 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 03:58:44 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:58:44 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:58:44 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 03:58:44 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 03:58:44 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 03:58:44 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 03:58:44 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:58:44 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 03:58:44 INF Pod safety check passed - all pods can be safely rescheduled alreadyTerminating=0 checked=11 daemonSets=8 node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 03:58:44 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:58:45 DBG Cluster capacity buffer check cpuUtilization=92.62860483242402 maxAllowed=75 memoryUtilization=70.27238861585346
2025/10/09 03:58:45 DBG Cannot safely drain node yet nodeName=ip-10-195-92-67.us-west-2.compute.internal reason="cluster would be 92.6% utilized (max allowed: 75.0%)"
2025/10/09 03:59:19 DBG Performing comprehensive spot ASG health check asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 requiredStability=120000
2025/10/09 03:59:19 DBG Comprehensive check: ASG health asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 desired=6 healthy=true inService=6 instances=["i-05a0cbe82a3988ed2:InService:Healthy","i-0628a52ab1114b29a:InService:Healthy","i-0884d1890adf692e7:InService:Healthy","i-0b02c064fef3abd98:InService:Healthy","i-0e4a5d7521054eebc:InService:Healthy","i-0e9218c3cd3396b1b:InService:Healthy"] totalInstances=6
2025/10/09 03:59:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-05a0cbe82a3988ed2 node=ip-10-195-92-189.us-west-2.compute.internal
2025/10/09 03:59:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0884d1890adf692e7 node=ip-10-195-92-45.us-west-2.compute.internal
2025/10/09 03:59:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e9218c3cd3396b1b node=ip-10-195-94-113.us-west-2.compute.internal
2025/10/09 03:59:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e4a5d7521054eebc node=ip-10-195-94-150.us-west-2.compute.internal
2025/10/09 03:59:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0b02c064fef3abd98 node=ip-10-195-95-176.us-west-2.compute.internal
2025/10/09 03:59:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0628a52ab1114b29a node=ip-10-195-95-78.us-west-2.compute.internal
2025/10/09 03:59:19 DBG Comprehensive check: K8s node readiness allReady=true asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 nodeStatuses=["ip-10-195-92-189.us-west-2.compute.internal:Ready","ip-10-195-92-45.us-west-2.compute.internal:Ready","ip-10-195-94-113.us-west-2.compute.internal:Ready","ip-10-195-94-150.us-west-2.compute.internal:Ready","ip-10-195-95-176.us-west-2.compute.internal:Ready","ip-10-195-95-78.us-west-2.compute.internal:Ready"] spotNodes=6
2025/10/09 03:59:19 INF ✅ Comprehensive check: Spot capacity is stable for required duration asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 elapsed=359916.412809 required=120000
2025/10/09 03:59:19 DBG Starting pod safety check for node drain node=ip-10-195-92-67.us-west-2.compute.internal
2025/10/09 03:59:19 DBG Retrieved node details instanceType=t3a.2xlarge node=ip-10-195-92-67.us-west-2.compute.internal zone=us-west-2c
2025/10/09 03:59:19 DBG Checking pod safety for node drain node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 03:59:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 03:59:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 03:59:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/coralogix-opentelemetry-agent-mwx9d
2025/10/09 03:59:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 03:59:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"cert-manager\""
2025/10/09 03:59:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 03:59:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 03:59:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"coralogix\""
2025/10/09 03:59:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"engine-efficacy-stats\""
2025/10/09 03:59:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 03:59:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/aws-node-ntmdp
2025/10/09 03:59:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/csi-smb-node-98v54
2025/10/09 03:59:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 03:59:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 03:59:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-node-t97pp
2025/10/09 03:59:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/kube-proxy-2kn55
2025/10/09 03:59:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/node-local-dns-xw9hz
2025/10/09 03:59:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kubecost/kubecost-dev-prometheus-node-exporter-lv4dh
2025/10/09 03:59:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/aws-node-termination-handler-zr6mg
2025/10/09 03:59:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 03:59:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"kube-system\""
2025/10/09 03:59:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:59:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 03:59:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 03:59:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 03:59:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 03:59:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:59:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 03:59:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 03:59:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:59:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:59:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 03:59:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 03:59:20 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:59:20 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 03:59:20 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 03:59:20 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 03:59:20 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 03:59:20 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:59:20 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:59:20 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 03:59:20 INF Pod safety check passed - all pods can be safely rescheduled alreadyTerminating=0 checked=11 daemonSets=8 node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 03:59:21 DBG Cluster capacity buffer check cpuUtilization=92.62860483242402 maxAllowed=75 memoryUtilization=70.27238861585346
2025/10/09 03:59:21 DBG Cannot safely drain node yet nodeName=ip-10-195-92-67.us-west-2.compute.internal reason="cluster would be 92.6% utilized (max allowed: 75.0%)"
2025/10/09 03:59:43 INF event store statistics drainable-events=0 size=0
2025/10/09 03:59:55 DBG Performing comprehensive spot ASG health check asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 requiredStability=120000
2025/10/09 03:59:55 DBG Comprehensive check: ASG health asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 desired=6 healthy=true inService=6 instances=["i-05a0cbe82a3988ed2:InService:Healthy","i-0628a52ab1114b29a:InService:Healthy","i-0884d1890adf692e7:InService:Healthy","i-0b02c064fef3abd98:InService:Healthy","i-0e4a5d7521054eebc:InService:Healthy","i-0e9218c3cd3396b1b:InService:Healthy"] totalInstances=6
2025/10/09 03:59:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-05a0cbe82a3988ed2 node=ip-10-195-92-189.us-west-2.compute.internal
2025/10/09 03:59:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0884d1890adf692e7 node=ip-10-195-92-45.us-west-2.compute.internal
2025/10/09 03:59:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e9218c3cd3396b1b node=ip-10-195-94-113.us-west-2.compute.internal
2025/10/09 03:59:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e4a5d7521054eebc node=ip-10-195-94-150.us-west-2.compute.internal
2025/10/09 03:59:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0b02c064fef3abd98 node=ip-10-195-95-176.us-west-2.compute.internal
2025/10/09 03:59:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0628a52ab1114b29a node=ip-10-195-95-78.us-west-2.compute.internal
2025/10/09 03:59:55 DBG Comprehensive check: K8s node readiness allReady=true asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 nodeStatuses=["ip-10-195-92-189.us-west-2.compute.internal:Ready","ip-10-195-92-45.us-west-2.compute.internal:Ready","ip-10-195-94-113.us-west-2.compute.internal:Ready","ip-10-195-94-150.us-west-2.compute.internal:Ready","ip-10-195-95-176.us-west-2.compute.internal:Ready","ip-10-195-95-78.us-west-2.compute.internal:Ready"] spotNodes=6
2025/10/09 03:59:55 INF ✅ Comprehensive check: Spot capacity is stable for required duration asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 elapsed=395966.857006 required=120000
2025/10/09 03:59:55 DBG Starting pod safety check for node drain node=ip-10-195-92-67.us-west-2.compute.internal
2025/10/09 03:59:55 DBG Retrieved node details instanceType=t3a.2xlarge node=ip-10-195-92-67.us-west-2.compute.internal zone=us-west-2c
2025/10/09 03:59:55 DBG Checking pod safety for node drain node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 03:59:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 03:59:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 03:59:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/coralogix-opentelemetry-agent-mwx9d
2025/10/09 03:59:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 03:59:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"cert-manager\""
2025/10/09 03:59:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"coralogix\""
2025/10/09 03:59:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 03:59:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 03:59:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"engine-efficacy-stats\""
2025/10/09 03:59:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 03:59:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/aws-node-ntmdp
2025/10/09 03:59:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/csi-smb-node-98v54
2025/10/09 03:59:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 03:59:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"kube-system\""
2025/10/09 03:59:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 03:59:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-node-t97pp
2025/10/09 03:59:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/kube-proxy-2kn55
2025/10/09 03:59:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/node-local-dns-xw9hz
2025/10/09 03:59:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kubecost/kubecost-dev-prometheus-node-exporter-lv4dh
2025/10/09 03:59:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/aws-node-termination-handler-zr6mg
2025/10/09 03:59:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 03:59:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:59:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 03:59:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 03:59:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:59:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 03:59:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 03:59:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 03:59:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 03:59:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:59:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:59:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 03:59:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 03:59:56 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 03:59:56 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 03:59:56 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:59:56 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:59:56 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 03:59:56 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 03:59:56 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 03:59:56 INF Pod safety check passed - all pods can be safely rescheduled alreadyTerminating=0 checked=11 daemonSets=8 node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 03:59:56 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 03:59:57 DBG Cluster capacity buffer check cpuUtilization=92.62860483242402 maxAllowed=75 memoryUtilization=70.27238861585346
2025/10/09 03:59:57 DBG Cannot safely drain node yet nodeName=ip-10-195-92-67.us-west-2.compute.internal reason="cluster would be 92.6% utilized (max allowed: 75.0%)"
2025/10/09 04:00:31 DBG Performing comprehensive spot ASG health check asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 requiredStability=120000
2025/10/09 04:00:31 DBG Comprehensive check: ASG health asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 desired=6 healthy=true inService=6 instances=["i-05a0cbe82a3988ed2:InService:Healthy","i-0628a52ab1114b29a:InService:Healthy","i-0884d1890adf692e7:InService:Healthy","i-0b02c064fef3abd98:InService:Healthy","i-0e4a5d7521054eebc:InService:Healthy","i-0e9218c3cd3396b1b:InService:Healthy"] totalInstances=6
2025/10/09 04:00:31 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-05a0cbe82a3988ed2 node=ip-10-195-92-189.us-west-2.compute.internal
2025/10/09 04:00:31 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0884d1890adf692e7 node=ip-10-195-92-45.us-west-2.compute.internal
2025/10/09 04:00:31 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e9218c3cd3396b1b node=ip-10-195-94-113.us-west-2.compute.internal
2025/10/09 04:00:31 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e4a5d7521054eebc node=ip-10-195-94-150.us-west-2.compute.internal
2025/10/09 04:00:31 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0b02c064fef3abd98 node=ip-10-195-95-176.us-west-2.compute.internal
2025/10/09 04:00:31 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0628a52ab1114b29a node=ip-10-195-95-78.us-west-2.compute.internal
2025/10/09 04:00:31 DBG Comprehensive check: K8s node readiness allReady=true asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 nodeStatuses=["ip-10-195-92-189.us-west-2.compute.internal:Ready","ip-10-195-92-45.us-west-2.compute.internal:Ready","ip-10-195-94-113.us-west-2.compute.internal:Ready","ip-10-195-94-150.us-west-2.compute.internal:Ready","ip-10-195-95-176.us-west-2.compute.internal:Ready","ip-10-195-95-78.us-west-2.compute.internal:Ready"] spotNodes=6
2025/10/09 04:00:31 INF ✅ Comprehensive check: Spot capacity is stable for required duration asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 elapsed=431942.126 required=120000
2025/10/09 04:00:31 DBG Starting pod safety check for node drain node=ip-10-195-92-67.us-west-2.compute.internal
2025/10/09 04:00:31 DBG Retrieved node details instanceType=t3a.2xlarge node=ip-10-195-92-67.us-west-2.compute.internal zone=us-west-2c
2025/10/09 04:00:31 DBG Checking pod safety for node drain node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 04:00:31 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 04:00:31 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 04:00:31 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/coralogix-opentelemetry-agent-mwx9d
2025/10/09 04:00:31 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 04:00:31 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"cert-manager\""
2025/10/09 04:00:31 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 04:00:31 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 04:00:31 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"coralogix\""
2025/10/09 04:00:31 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"engine-efficacy-stats\""
2025/10/09 04:00:31 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 04:00:31 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/aws-node-ntmdp
2025/10/09 04:00:31 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/csi-smb-node-98v54
2025/10/09 04:00:31 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 04:00:31 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 04:00:31 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-node-t97pp
2025/10/09 04:00:31 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/kube-proxy-2kn55
2025/10/09 04:00:31 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/node-local-dns-xw9hz
2025/10/09 04:00:31 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kubecost/kubecost-dev-prometheus-node-exporter-lv4dh
2025/10/09 04:00:31 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/aws-node-termination-handler-zr6mg
2025/10/09 04:00:31 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 04:00:31 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"kube-system\""
2025/10/09 04:00:31 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 04:00:31 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 04:00:31 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:00:31 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:00:31 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 04:00:31 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 04:00:31 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 04:00:31 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 04:00:31 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:00:31 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 04:00:31 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 04:00:31 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:00:32 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:00:32 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 04:00:32 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 04:00:32 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:00:32 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 04:00:32 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 04:00:32 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:00:32 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 04:00:32 INF Pod safety check passed - all pods can be safely rescheduled alreadyTerminating=0 checked=11 daemonSets=8 node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 04:00:33 DBG Cluster capacity buffer check cpuUtilization=92.62860483242402 maxAllowed=75 memoryUtilization=70.27238861585346
2025/10/09 04:00:33 DBG Cannot safely drain node yet nodeName=ip-10-195-92-67.us-west-2.compute.internal reason="cluster would be 92.6% utilized (max allowed: 75.0%)"
2025/10/09 04:00:43 INF event store statistics drainable-events=0 size=0
2025/10/09 04:01:07 DBG Performing comprehensive spot ASG health check asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 requiredStability=120000
2025/10/09 04:01:07 DBG Comprehensive check: ASG health asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 desired=6 healthy=true inService=6 instances=["i-05a0cbe82a3988ed2:InService:Healthy","i-0628a52ab1114b29a:InService:Healthy","i-0884d1890adf692e7:InService:Healthy","i-0b02c064fef3abd98:InService:Healthy","i-0e4a5d7521054eebc:InService:Healthy","i-0e9218c3cd3396b1b:InService:Healthy"] totalInstances=6
2025/10/09 04:01:07 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-05a0cbe82a3988ed2 node=ip-10-195-92-189.us-west-2.compute.internal
2025/10/09 04:01:07 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0884d1890adf692e7 node=ip-10-195-92-45.us-west-2.compute.internal
2025/10/09 04:01:07 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e9218c3cd3396b1b node=ip-10-195-94-113.us-west-2.compute.internal
2025/10/09 04:01:07 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e4a5d7521054eebc node=ip-10-195-94-150.us-west-2.compute.internal
2025/10/09 04:01:07 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0b02c064fef3abd98 node=ip-10-195-95-176.us-west-2.compute.internal
2025/10/09 04:01:07 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0628a52ab1114b29a node=ip-10-195-95-78.us-west-2.compute.internal
2025/10/09 04:01:07 DBG Comprehensive check: K8s node readiness allReady=true asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 nodeStatuses=["ip-10-195-92-189.us-west-2.compute.internal:Ready","ip-10-195-92-45.us-west-2.compute.internal:Ready","ip-10-195-94-113.us-west-2.compute.internal:Ready","ip-10-195-94-150.us-west-2.compute.internal:Ready","ip-10-195-95-176.us-west-2.compute.internal:Ready","ip-10-195-95-78.us-west-2.compute.internal:Ready"] spotNodes=6
2025/10/09 04:01:07 INF ✅ Comprehensive check: Spot capacity is stable for required duration asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 elapsed=467914.289638 required=120000
2025/10/09 04:01:07 DBG Starting pod safety check for node drain node=ip-10-195-92-67.us-west-2.compute.internal
2025/10/09 04:01:07 DBG Retrieved node details instanceType=t3a.2xlarge node=ip-10-195-92-67.us-west-2.compute.internal zone=us-west-2c
2025/10/09 04:01:07 DBG Checking pod safety for node drain node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 04:01:07 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 04:01:07 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 04:01:07 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/coralogix-opentelemetry-agent-mwx9d
2025/10/09 04:01:07 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 04:01:07 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"cert-manager\""
2025/10/09 04:01:07 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"coralogix\""
2025/10/09 04:01:07 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 04:01:07 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 04:01:07 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"engine-efficacy-stats\""
2025/10/09 04:01:07 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 04:01:07 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/aws-node-ntmdp
2025/10/09 04:01:07 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/csi-smb-node-98v54
2025/10/09 04:01:07 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 04:01:07 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"kube-system\""
2025/10/09 04:01:07 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 04:01:07 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-node-t97pp
2025/10/09 04:01:07 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/kube-proxy-2kn55
2025/10/09 04:01:07 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/node-local-dns-xw9hz
2025/10/09 04:01:07 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kubecost/kubecost-dev-prometheus-node-exporter-lv4dh
2025/10/09 04:01:07 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/aws-node-termination-handler-zr6mg
2025/10/09 04:01:07 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 04:01:07 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:01:07 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 04:01:07 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 04:01:07 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 04:01:07 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 04:01:07 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:01:07 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:01:07 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 04:01:07 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 04:01:07 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:01:07 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 04:01:07 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 04:01:08 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:01:08 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 04:01:08 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 04:01:08 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:01:08 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 04:01:08 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 04:01:08 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 04:01:08 INF Pod safety check passed - all pods can be safely rescheduled alreadyTerminating=0 checked=11 daemonSets=8 node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 04:01:08 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:01:09 DBG Cluster capacity buffer check cpuUtilization=92.62860483242402 maxAllowed=75 memoryUtilization=70.27238861585346
2025/10/09 04:01:09 DBG Cannot safely drain node yet nodeName=ip-10-195-92-67.us-west-2.compute.internal reason="cluster would be 92.6% utilized (max allowed: 75.0%)"
2025/10/09 04:01:43 INF event store statistics drainable-events=0 size=0
2025/10/09 04:01:43 DBG Performing comprehensive spot ASG health check asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 requiredStability=120000
2025/10/09 04:01:43 DBG Comprehensive check: ASG health asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 desired=6 healthy=true inService=6 instances=["i-05a0cbe82a3988ed2:InService:Healthy","i-0628a52ab1114b29a:InService:Healthy","i-0884d1890adf692e7:InService:Healthy","i-0b02c064fef3abd98:InService:Healthy","i-0e4a5d7521054eebc:InService:Healthy","i-0e9218c3cd3396b1b:InService:Healthy"] totalInstances=6
2025/10/09 04:01:43 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-05a0cbe82a3988ed2 node=ip-10-195-92-189.us-west-2.compute.internal
2025/10/09 04:01:43 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0884d1890adf692e7 node=ip-10-195-92-45.us-west-2.compute.internal
2025/10/09 04:01:43 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e9218c3cd3396b1b node=ip-10-195-94-113.us-west-2.compute.internal
2025/10/09 04:01:43 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e4a5d7521054eebc node=ip-10-195-94-150.us-west-2.compute.internal
2025/10/09 04:01:43 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0b02c064fef3abd98 node=ip-10-195-95-176.us-west-2.compute.internal
2025/10/09 04:01:43 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0628a52ab1114b29a node=ip-10-195-95-78.us-west-2.compute.internal
2025/10/09 04:01:43 DBG Comprehensive check: K8s node readiness allReady=true asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 nodeStatuses=["ip-10-195-92-189.us-west-2.compute.internal:Ready","ip-10-195-92-45.us-west-2.compute.internal:Ready","ip-10-195-94-113.us-west-2.compute.internal:Ready","ip-10-195-94-150.us-west-2.compute.internal:Ready","ip-10-195-95-176.us-west-2.compute.internal:Ready","ip-10-195-95-78.us-west-2.compute.internal:Ready"] spotNodes=6
2025/10/09 04:01:43 INF ✅ Comprehensive check: Spot capacity is stable for required duration asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 elapsed=503910.922539 required=120000
2025/10/09 04:01:43 DBG Starting pod safety check for node drain node=ip-10-195-92-67.us-west-2.compute.internal
2025/10/09 04:01:43 DBG Retrieved node details instanceType=t3a.2xlarge node=ip-10-195-92-67.us-west-2.compute.internal zone=us-west-2c
2025/10/09 04:01:43 DBG Checking pod safety for node drain node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 04:01:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 04:01:43 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 04:01:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/coralogix-opentelemetry-agent-mwx9d
2025/10/09 04:01:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 04:01:43 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"cert-manager\""
2025/10/09 04:01:43 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"coralogix\""
2025/10/09 04:01:43 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 04:01:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 04:01:43 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 04:01:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/aws-node-ntmdp
2025/10/09 04:01:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/csi-smb-node-98v54
2025/10/09 04:01:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 04:01:43 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"engine-efficacy-stats\""
2025/10/09 04:01:43 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 04:01:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-node-t97pp
2025/10/09 04:01:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/kube-proxy-2kn55
2025/10/09 04:01:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/node-local-dns-xw9hz
2025/10/09 04:01:43 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"kube-system\""
2025/10/09 04:01:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kubecost/kubecost-dev-prometheus-node-exporter-lv4dh
2025/10/09 04:01:43 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/aws-node-termination-handler-zr6mg
2025/10/09 04:01:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 04:01:43 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:01:43 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 04:01:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 04:01:43 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 04:01:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 04:01:43 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:01:43 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 04:01:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 04:01:43 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:01:43 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:01:43 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 04:01:43 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 04:01:44 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:01:44 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 04:01:44 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 04:01:44 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 04:01:44 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 04:01:44 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:01:44 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 04:01:44 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:01:44 INF Pod safety check passed - all pods can be safely rescheduled alreadyTerminating=0 checked=11 daemonSets=8 node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 04:01:45 DBG Cluster capacity buffer check cpuUtilization=92.62860483242402 maxAllowed=75 memoryUtilization=70.27238861585346
2025/10/09 04:01:45 DBG Cannot safely drain node yet nodeName=ip-10-195-92-67.us-west-2.compute.internal reason="cluster would be 92.6% utilized (max allowed: 75.0%)"
2025/10/09 04:02:19 DBG Performing comprehensive spot ASG health check asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 requiredStability=120000
2025/10/09 04:02:19 DBG Comprehensive check: ASG health asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 desired=6 healthy=true inService=6 instances=["i-05a0cbe82a3988ed2:InService:Healthy","i-0628a52ab1114b29a:InService:Healthy","i-0884d1890adf692e7:InService:Healthy","i-0b02c064fef3abd98:InService:Healthy","i-0e4a5d7521054eebc:InService:Healthy","i-0e9218c3cd3396b1b:InService:Healthy"] totalInstances=6
2025/10/09 04:02:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-05a0cbe82a3988ed2 node=ip-10-195-92-189.us-west-2.compute.internal
2025/10/09 04:02:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0884d1890adf692e7 node=ip-10-195-92-45.us-west-2.compute.internal
2025/10/09 04:02:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e9218c3cd3396b1b node=ip-10-195-94-113.us-west-2.compute.internal
2025/10/09 04:02:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e4a5d7521054eebc node=ip-10-195-94-150.us-west-2.compute.internal
2025/10/09 04:02:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0b02c064fef3abd98 node=ip-10-195-95-176.us-west-2.compute.internal
2025/10/09 04:02:19 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0628a52ab1114b29a node=ip-10-195-95-78.us-west-2.compute.internal
2025/10/09 04:02:19 DBG Comprehensive check: K8s node readiness allReady=true asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 nodeStatuses=["ip-10-195-92-189.us-west-2.compute.internal:Ready","ip-10-195-92-45.us-west-2.compute.internal:Ready","ip-10-195-94-113.us-west-2.compute.internal:Ready","ip-10-195-94-150.us-west-2.compute.internal:Ready","ip-10-195-95-176.us-west-2.compute.internal:Ready","ip-10-195-95-78.us-west-2.compute.internal:Ready"] spotNodes=6
2025/10/09 04:02:19 INF ✅ Comprehensive check: Spot capacity is stable for required duration asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 elapsed=539903.699677 required=120000
2025/10/09 04:02:19 DBG Starting pod safety check for node drain node=ip-10-195-92-67.us-west-2.compute.internal
2025/10/09 04:02:19 DBG Retrieved node details instanceType=t3a.2xlarge node=ip-10-195-92-67.us-west-2.compute.internal zone=us-west-2c
2025/10/09 04:02:19 DBG Checking pod safety for node drain node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 04:02:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 04:02:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"cert-manager\""
2025/10/09 04:02:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 04:02:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/coralogix-opentelemetry-agent-mwx9d
2025/10/09 04:02:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 04:02:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"coralogix\""
2025/10/09 04:02:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 04:02:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 04:02:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"engine-efficacy-stats\""
2025/10/09 04:02:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 04:02:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/aws-node-ntmdp
2025/10/09 04:02:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/csi-smb-node-98v54
2025/10/09 04:02:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 04:02:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 04:02:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-node-t97pp
2025/10/09 04:02:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/kube-proxy-2kn55
2025/10/09 04:02:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/node-local-dns-xw9hz
2025/10/09 04:02:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kubecost/kubecost-dev-prometheus-node-exporter-lv4dh
2025/10/09 04:02:19 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/aws-node-termination-handler-zr6mg
2025/10/09 04:02:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 04:02:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"kube-system\""
2025/10/09 04:02:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 04:02:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 04:02:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:02:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 04:02:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 04:02:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:02:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 04:02:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 04:02:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:02:19 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:02:19 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 04:02:19 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 04:02:20 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:02:20 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 04:02:20 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 04:02:20 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 04:02:20 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 04:02:20 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:02:20 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 04:02:20 INF Pod safety check passed - all pods can be safely rescheduled alreadyTerminating=0 checked=11 daemonSets=8 node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 04:02:20 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:02:21 DBG Cluster capacity buffer check cpuUtilization=92.62860483242402 maxAllowed=75 memoryUtilization=70.27238861585346
2025/10/09 04:02:21 DBG Cannot safely drain node yet nodeName=ip-10-195-92-67.us-west-2.compute.internal reason="cluster would be 92.6% utilized (max allowed: 75.0%)"
2025/10/09 04:02:43 INF event store statistics drainable-events=0 size=0
2025/10/09 04:02:55 DBG Performing comprehensive spot ASG health check asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 requiredStability=120000
2025/10/09 04:02:55 DBG Comprehensive check: ASG health asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 desired=6 healthy=true inService=6 instances=["i-05a0cbe82a3988ed2:InService:Healthy","i-0628a52ab1114b29a:InService:Healthy","i-0884d1890adf692e7:InService:Healthy","i-0b02c064fef3abd98:InService:Healthy","i-0e4a5d7521054eebc:InService:Healthy","i-0e9218c3cd3396b1b:InService:Healthy"] totalInstances=6
2025/10/09 04:02:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-05a0cbe82a3988ed2 node=ip-10-195-92-189.us-west-2.compute.internal
2025/10/09 04:02:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0884d1890adf692e7 node=ip-10-195-92-45.us-west-2.compute.internal
2025/10/09 04:02:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e9218c3cd3396b1b node=ip-10-195-94-113.us-west-2.compute.internal
2025/10/09 04:02:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0e4a5d7521054eebc node=ip-10-195-94-150.us-west-2.compute.internal
2025/10/09 04:02:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0b02c064fef3abd98 node=ip-10-195-95-176.us-west-2.compute.internal
2025/10/09 04:02:55 DBG Found spot node via instance ID match asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 instanceID=i-0628a52ab1114b29a node=ip-10-195-95-78.us-west-2.compute.internal
2025/10/09 04:02:55 DBG Comprehensive check: K8s node readiness allReady=true asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 nodeStatuses=["ip-10-195-92-189.us-west-2.compute.internal:Ready","ip-10-195-92-45.us-west-2.compute.internal:Ready","ip-10-195-94-113.us-west-2.compute.internal:Ready","ip-10-195-94-150.us-west-2.compute.internal:Ready","ip-10-195-95-176.us-west-2.compute.internal:Ready","ip-10-195-95-78.us-west-2.compute.internal:Ready"] spotNodes=6
2025/10/09 04:02:55 INF ✅ Comprehensive check: Spot capacity is stable for required duration asg=dev-mdcl-mdaas-engines-linux-nodes-stirring-dragon20210817034759696700000004 elapsed=575928.227379 required=120000
2025/10/09 04:02:55 DBG Starting pod safety check for node drain node=ip-10-195-92-67.us-west-2.compute.internal
2025/10/09 04:02:55 DBG Retrieved node details instanceType=t3a.2xlarge node=ip-10-195-92-67.us-west-2.compute.internal zone=us-west-2c
2025/10/09 04:02:55 DBG Checking pod safety for node drain node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 04:02:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 04:02:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"cert-manager\""
2025/10/09 04:02:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=cert-manager/cert-manager-766855cc66-m2kzf
2025/10/09 04:02:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/coralogix-opentelemetry-agent-mwx9d
2025/10/09 04:02:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 04:02:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"coralogix\""
2025/10/09 04:02:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=coralogix/prometheus-mdaas-dev-server-6f68589488-qzsj8
2025/10/09 04:02:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 04:02:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"engine-efficacy-stats\""
2025/10/09 04:02:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=engine-efficacy-stats/engine-efficacy-29332980-srfgp
2025/10/09 04:02:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/aws-node-ntmdp
2025/10/09 04:02:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/csi-smb-node-98v54
2025/10/09 04:02:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 04:02:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"kube-system\""
2025/10/09 04:02:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-controller-5856894f4f-4g7gn
2025/10/09 04:02:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/ebs-csi-node-t97pp
2025/10/09 04:02:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/kube-proxy-2kn55
2025/10/09 04:02:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kube-system/node-local-dns-xw9hz
2025/10/09 04:02:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=kubecost/kubecost-dev-prometheus-node-exporter-lv4dh
2025/10/09 04:02:55 DBG Skipping DaemonSet pod (will be recreated on other nodes) node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/aws-node-termination-handler-zr6mg
2025/10/09 04:02:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 04:02:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:02:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-7z-fb6984447-mdpq6
2025/10/09 04:02:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 04:02:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:02:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-dlp-546d6c6d46-6kq77
2025/10/09 04:02:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 04:02:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-ds-679695cbd5-dts26
2025/10/09 04:02:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 04:02:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:02:55 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:02:55 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/eng-normal-tachyon-6894b6ccb6-bbjd9
2025/10/09 04:02:55 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 04:02:56 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/mdaas-ui-frontend-746677d79c-shdsq
2025/10/09 04:02:56 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 04:02:56 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:02:56 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:02:56 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/normal-result-handler-8cc65cf99-dt99t
2025/10/09 04:02:56 DBG Checking if pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal phase=Running pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 04:02:56 WRN Failed to list PDBs, assuming no PDB error="poddisruptionbudgets.policy is forbidden: User \"system:serviceaccount:mdaas-engines-dev:aws-node-termination-handler\" cannot list resource \"poddisruptionbudgets\" in API group \"policy\" in the namespace \"mdaas-engines-dev\""
2025/10/09 04:02:56 DBG Pod can be safely evicted node=ip-10-195-92-67.us-west-2.compute.internal pod=mdaas-engines-dev/request-handler-5b965bf4cc-ql45b
2025/10/09 04:02:56 INF Pod safety check passed - all pods can be safely rescheduled alreadyTerminating=0 checked=11 daemonSets=8 node=ip-10-195-92-67.us-west-2.compute.internal totalPods=19
2025/10/09 04:02:57 DBG Cluster capacity buffer check cpuUtilization=92.62860483242402 maxAllowed=75 memoryUtilization=70.27238861585346
2025/10/09 04:02:57 DBG Cannot safely drain node yet nodeName=ip-10-195-92-67.us-west-2.compute.internal reason="cluster would be 92.6% utilized (max allowed: 75.0%)"
